try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="77ead047-35d8-4a97-aea6-e7692aa56713",e._sentryDebugIdIdentifier="sentry-dbid-77ead047-35d8-4a97-aea6-e7692aa56713")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1336],{1336:(e,t,n)=>{n.d(t,{Lv:()=>ee,fP:()=>G});var a=n(42977),r=n(54568);n(60610);var l=n(54890),s=n(17873);let i=RegExp("<".concat(l.oj,"\\s+(.*?)\\s*\\/>"),"g"),o=()=>e=>{(0,s.YR)(e,"html",(e,t,n)=>{let a=e.value.match(i);if(a){let e=a.map(e=>{let t=e.replace("<".concat(l.oj," "),"").replace(/\s*\/>/,"").trim(),{id:n,type:a,title:r,language:s,isClosed:i}=(0,l.K1)(t),o={id:n,title:r,type:a,isClosed:i};return s&&(o.language=s),{type:"artifactComponent",data:{hName:"artifactComponent",hProperties:o}}});n.children.splice(t,1,...e)}})};var c=n(74610);let d=()=>e=>{(0,s.YR)(e,"list",e=>{e.spread=!1}),(0,s.YR)(e,"listItem",e=>{e.spread=!1})};var u=n(7620),p=n(50887).Buffer;function m(){return function(e,t){let n=p.isBuffer(t.value)?t.value.toString("utf8"):"string"==typeof t.value?t.value:String(t.value);(0,s.YR)(e,(e,t,a)=>{if(void 0===t||void 0===a||void 0===e.children||0===e.children.length)return;let r=!1,l=[],s=e.children.some(e=>"emphasis"===e.type),i=e.children[0].position,o=e.children[e.children.length-1].position;if(s&&i&&o){let[e,t]=h(n.slice(i.start.offset,o.end.offset));e&&(r=!0,l.push(...t))}else for(let t of e.children)if("text"===t.type){let[e,a]=h(t.position?n.slice(t.position.start.offset,t.position.end.offset):t.value);e?(r=!0,l.push(...a)):l.push(t)}else l.push(t);if(r)if(l.some(e=>"math"===e.type)){let e=function(e){let t=[],n=[],a=()=>{let e={type:"paragraph",children:t};n.push(e)};for(let r of e)"math"===r.type?(t.length>0&&(a(),t=[]),n.push(r)):t.push(r);return t.length>0&&(a(),t=[]),n}(l);a.children.splice(t,1,...e)}else e.children=l})}}let x=/^\s*\$\$/,f=/\$\$\s*$/;function h(e){let t=!1,n=[],a=e.split("\n"),r=!1,l=[];for(let e of a){var s;if(s=e,x.test(s)&&f.test(s)&&s.trim().length>4){n.push({type:"math",meta:null,value:e.slice(2,-2),data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:e.slice(2,-2)}]}}),t=!0;continue}if(!r&&x.test(e)){r=!0;continue}if(r&&x.test(e)){if(r=!1,l){let e=l.join("\n");n.push({type:"math",meta:null,value:e,data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:e}]}}),t=!0,l=[]}continue}if(r){l.push(e);continue}for(let a=0;a<e.length;a++){let r=function(e,t){let n=!1;do{let a=(n=(t=e.indexOf("$",t))>-1&&function(e,t){let n=!g(e,t-1,"$"),a=!function(e,t){return g(e,t," ")}(e,t+1),r=!g(e,t+1,"$");return!v(e,t)&&n&&a&&r}(e,t))?function(e,t){let n=function(e,t){if(t<=0)return t;let n=e.lastIndexOf(" ",t);return n>-1?n+1:0}(e,t),a=/^(\$\w+!?)?\$?[A-Z]+\$?[0-9]+(:(\$\w+!?)?\$?[A-Z]+\$?[0-9]+)?/g.exec(e.slice(n)),r=a?n+a[0].length-1:-1;return r>-1&&g(e,n,"$")&&g(e,r+1,"$")?-1:r}(e,t):-1;a>-1&&a>t?(n=!1,t=a+1):!n&&t>-1&&(t+=1)}while(t>-1&&!n);return t}(e,a),l=r>-1?function(e,t){let n=!1;do(n=(t=e.indexOf("$",t))>-1&&function(e,t){var n,a;let r=!function(e,t){return g(e,t," ")}(e,t-1),l=(n=e,!!((a=t+1)<0)||!!(a>=n.length)||!(n[a]>="0")||!(n[a]<="9"));return!v(e,t)&&r&&l}(e,t))||!(t>-1)||(t+=1);while(t>-1&&!n);return t}(e,r+1):-1;if(r>-1&&l>-1){r>a&&n.push({type:"text",value:e.substring(a,r)});let s=e.substring(r+1,l);n.push({type:"inlineMath",value:s,data:{hName:"span",hProperties:{className:["math","math-inline"]},hChildren:[{type:"text",value:s+"\n"}]}}),a=l,t=!0}else{a<e.length&&n.push({type:"text",value:e.substring(a)+"\n"});break}}}return[t,n]}function g(e,t,n){return!(t<0)&&!(t>=e.length)&&e[t]===n}function v(e,t){return g(e,t-1,"\\")&&!v(e,t-1)}var b=n(90510),y=n(92007),j=n(27062),w=n(44180),N=n(32987),k=n(62971),_=n(70497),C=n(85526),A=n(8791),M=n(90909),S=n(98518),E=n(34059),I=n(12072),O=n(71857),T=n(93681),D=n(46760),U=n(89256);let z={highlightedCitation:null,setHighlightedCitation:n.n(U)()},R=(0,u.createContext)(z);function $(e){let{children:t,blockCitations:n}=e,[a,l]=(0,u.useState)(null);return(0,r.jsx)(R.Provider,{value:{highlightedCitation:a,setHighlightedCitation:l,blockCitations:n},children:t})}var P=n(8027),F=n(11515);function L(e){let{citations:t,citation:n,isOpen:a,setIsOpen:l,trackCitationClick:s,tagText:i,url:o}=e;return(0,r.jsx)(I.Tooltip,{tooltipContent:(0,r.jsx)(Y,{citations:t,handleClick:s}),className:"!w-[337px]",open:a,onOpenChange:()=>l(e=>!e),contentStyle:"citation",side:"top",delayDuration:0,children:(0,r.jsx)("span",{className:"inline-flex",children:(0,r.jsx)(W,{isStreaming:!1,tagText:i,url:o,handleClick:()=>n&&s(n)})})})}let q=window.self!==window.top?()=>({track:()=>Promise.resolve()}):S.st;function H(e){let{citationUuids:t,messageUuid:n}=e,[a,l]=(0,u.useState)(!1),s=(0,D.A)(),{blockCitations:i}=(0,u.useContext)(R),o=(0,y.p)(t,i),c=(0,y.n)(),d=e=>{switch(e.metadata.type){case"webpage_metadata":var t;return null!=(t=e.metadata.site_name)?t:s.formatMessage({defaultMessage:"Untitled",id:"3kbIhS7KZS"});case"google_doc_metadata":return s.formatMessage({defaultMessage:"Google Doc",id:"7qYF66c9/s"});default:return e.title}},p=q(),m=(0,u.useCallback)(e=>{let t,a;if("google_doc_metadata"===e.metadata.type)t="drive_search",a="";else if("webpage_metadata"===e.metadata.type)t="web_search",a=e.metadata.site_domain;else{var r;t=null!=(r=e.origin_tool_name)?r:e.metadata.source,a=""}p.track({event_key:"claudeai.conversation.citation_clicked",messageUuid:n,citationSourceTool:t,webDomainName:a})},[p,n]);if(!o.length||!c)return null;if(1===o.length&&o[0].sources&&o[0].sources.length>0){var x;let e=o[0],t=(null==(x=e.sources)?void 0:x.map(t=>{var n,a,r;return n=e.start_index,a=e.end_index,{uuid:t.uuid,title:t.title,url:t.url,metadata:{type:"generic_metadata",uuid:t.uuid,icon_url:t.icon_url,preview_title:t.title,source:null!=(r=t.source)?r:""},origin_tool_name:null,start_index:n,end_index:null!=a?a:0}}))||[];return(0,r.jsx)(L,{citations:t,citation:e,isStreaming:!1,isOpen:a,setIsOpen:l,trackCitationClick:m,tagText:e.title,url:e.url})}if(o.length>=3){let e=o[0];return(0,r.jsx)(L,{citations:o,citation:e,isStreaming:!1,isOpen:a,setIsOpen:l,trackCitationClick:m,tagText:"".concat(d(e)," + ").concat(o.length-1),url:e.url})}return o.map((e,t)=>(0,r.jsxs)(u.Fragment,{children:[t>0&&(0,r.jsx)("span",{className:"inline-flex w-1"}),(0,r.jsx)(I.Tooltip,{tooltipContent:(0,r.jsx)(J,{citation:e,handleClick:m}),className:"!max-w-[310px]",open:void 0,contentStyle:"citation",side:"top",delayDuration:0,children:(0,r.jsx)("span",{className:"inline-flex",children:(0,r.jsx)(W,{tagText:d(e),url:e.url,isStreaming:!1,handleClick:()=>m(e)})})})]},e.uuid))}let W=e=>{let{tagText:t,url:n,isStreaming:a,handleClick:l}=e,s="group/tag relative h-[18px] rounded-full inline-flex items-center overflow-hidden -translate-y-px",i=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:(0,N.A)("relative transition-colors h-full max-w-[180px] overflow-hidden px-1.5 inline-flex items-center font-small rounded-full border-0.5 border-border-300 bg-bg-200",!!n&&!a&&"group-hover/tag:bg-accent-secondary-900 group-hover/tag:border-accent-secondary-100/60"),children:(0,r.jsx)("span",{className:(0,N.A)("text-nowrap text-text-300 break-all truncate font-normal",!a&&"group-hover/tag:text-text-200"),children:t})}),!!n&&(0,r.jsx)("span",{className:(0,N.A)("transition-all opacity-[0%] h-[17px] absolute right-[0.5px] inline rounded-r-full flex items-center px-1.5 bg-gradient-to-r from-accent-secondary-900/0 via-accent-secondary-900/100 via-30% to-accent-secondary-900/100",!a&&"group-hover/tag:opacity-[100%]"),children:(0,r.jsx)(T.F,{size:14,className:"transition-all group-hover/tag:ease-out duration-[500ms] ease-in text-accent-secondary-100 group-hover/tag:scale-[100%] scale-[80%] group-hover/tag:opacity-[100%] opacity-[0%] -mr-[2px]"})})]});return n?(0,r.jsx)("a",{href:n,target:"_blank",className:(0,N.A)(s,"cursor-pointer"),onClick:l,children:i}):(0,r.jsx)("button",{className:(0,N.A)(s,"cursor-default"),children:i})};function Y(e){let{citations:t,handleClick:n}=e,a=t.filter(e=>!!e.url),l=t.filter(e=>!e.url);return(0,r.jsxs)("div",{className:"flex flex-col p-1 gap-0.5",children:[a.map(e=>(0,r.jsx)(J,{citation:e,handleClick:n,isHoverable:!0},e.uuid)),a.length>0&&l.length>0&&(0,r.jsx)("div",{className:"w-full border-t-0.5 border-border-300 h-0 min-h-0 my-2"}),l.map(e=>(0,r.jsx)(J,{citation:e,handleClick:n,isHoverable:!0},e.uuid))]})}function J(e){let t,n,a,{citation:l,handleClick:s,isHoverable:i}=e;switch(l.metadata.type){case"webpage_metadata":t=(0,r.jsx)(F.d,{url:l.metadata.favicon_url,size:12}),n=l.metadata.site_name,a=l.title;break;case"google_doc_metadata":t=(0,r.jsx)(E.ft,{size:14,variant:E.UF.DOCS}),n=(0,r.jsx)(k.A,{defaultMessage:"Google Doc",id:"7qYF66c9/s"}),a=l.title;break;default:{let e=(0,r.jsx)(P.B,{size:14,letter:l.metadata.source});t=l.metadata.icon_url?(0,r.jsx)(O.o,{style:{maxWidth:14,maxHeight:14},className:"object-contain",width:14,height:14,src:l.metadata.icon_url,fallbackSvg:e,alt:"favicon"}):e,n=l.metadata.source,a=l.metadata.preview_title}}let o=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"font-base-bold",children:a}),(0,r.jsxs)("span",{className:"flex flex-row items-center gap-1 text-text-500 font-small",children:[t,(0,r.jsx)("p",{className:"!text-[0.6875rem]",children:n})]})]});if(l.url){var c;return(0,r.jsx)("a",{href:null!=(c=l.url)?c:"",target:"_blank",className:(0,N.A)("transition-all flex flex-col gap-1 px-2 py-1.5 rounded-md",i&&"hover:border-transparent hover:bg-bg-300"),onClick:()=>s(l),children:o})}return(0,r.jsx)("div",{className:"transition-all flex flex-col gap-1 px-2 py-1.5 rounded-md cursor-default",children:o})}var K=n(94649),V=n(50787),B=n(56340);function Z(){let e=(0,a._)(["\n  tracking-tighter\n  flex-1\n  text-left\n  mr-4\n  [&_a]:font-medium\n  [&_a]:hover:underline\n"]);return Z=function(){return e},e}let G=(0,u.memo)(e=>{let{text:t,blockCitations:a=[],hasLinkRef:l,hasCodeRef:s,className:i,linkTarget:p="_blank",isStreaming:x=!1,flagShowCodeHeader:f,unsafeAllowNavigationWithoutConfirmation:h,onOpenArtifact:g,isLastMessage:v,messageUuid:b,onLinkClick:k}=e,S=(0,u.useRef)(null),E=(0,y.n)();(0,u.useEffect)(()=>{let e=e=>{var t,n,a;let r=window.getSelection();if(r&&(null==(t=S.current)?void 0:t.contains(r.anchorNode))){let t=r.getRangeAt(0).cloneContents(),l=document.createElement("div");for(let e of(l.appendChild(t),l.getElementsByTagName("*")))e.removeAttribute("color"),e.removeAttribute("fontFamily");null==(n=e.clipboardData)||n.setData("text/html",l.innerHTML),null==(a=e.clipboardData)||a.setData("text/plain",l.textContent||""),e.preventDefault()}};return document.addEventListener("copy",e),()=>{document.removeEventListener("copy",e)}},[]);let I=!!g,{remarkMath:O,rehypeKatex:T,inHouseLatexPlugin:D}=(()=>{let[e,t]=(0,u.useState)({remarkMath:void 0,rehypeKatex:void 0,inHouseLatexPlugin:m});return(0,u.useEffect)(()=>{(async()=>{let[e,a]=await Promise.all([n.e(1477).then(n.bind(n,71477)),Promise.all([n.e(2331),n.e(7437)]).then(n.bind(n,87437))]);t({remarkMath:e.default,rehypeKatex:a.default,inHouseLatexPlugin:m})})()},[]),e})(),{value:U}=(0,j.fS)("claudeai_disable_markdown_backslash_escaping"),z=(0,u.useMemo)(()=>{let e=t.replace(/(^|\n)(\s?)•(\s?)/g,"$1$2- ");return U||(e=e.replace(/\\/g,"\\\\")),e},[t,U]),R=(0,u.useMemo)(()=>({h1:e=>{let{node:t,children:n,...a}=e;return(0,r.jsx)("h1",{className:"text-2xl font-bold mt-1 text-text-100",...a,children:(0,V.wR)(n)})},h2:e=>{let{node:t,children:n,...a}=e;return(0,r.jsx)("h2",{className:"text-xl font-bold text-text-100 mt-1 -mb-0.5",...a,children:(0,V.wR)(n)})},h3:e=>{let{node:t,children:n,...a}=e;return(0,r.jsx)("h3",{className:"text-lg font-bold text-text-100 mt-1 -mb-1.5",...a,children:(0,V.wR)(n)})},h4:e=>{let{node:t,children:n,...a}=e;return(0,r.jsx)("h4",{className:"text-base font-bold text-text-100 mt-1",...a,children:(0,V.wR)(n)})},p:e=>{let{node:t,children:n,...a}=e,l=u.Children.toArray(n),s="whitespace-normal break-words";return 1===l.length&&"string"==typeof l[0]&&l[0].includes("\n")&&(s="whitespace-pre-wrap break-words"),(0,r.jsx)(B.I.p,{className:s,...a,children:(0,V.wR)(n)})},blockquote:e=>{let{node:t,children:n,...a}=e;return(0,r.jsx)("blockquote",{className:"border-border-200 border-l-4 pl-4",...a,children:(0,V.wR)(n)})},li:e=>{let{node:t,children:n,...a}=e;return(0,r.jsx)(B.I.li,{...a,children:(0,V.wR)(n)})},ul:e=>{let{node:t,...n}=e;return(0,r.jsx)(B.I.ul,{...n})},ol:e=>{let{node:t,...n}=e;return(0,r.jsx)(B.I.ol,{...n})},img:e=>{let{node:t,...n}=e;return h?(0,r.jsx)("img",{...n}):(0,r.jsx)(Q,{...n})},pre(e){let{node:t,children:n,...a}=e;s&&(s.current=!0);let l=u.Children.only(n);if((0,u.isValidElement)(l)){let e=u.Children.toArray(l.props.children);if(1===e.length){let t=e[0];if("string"==typeof t)return(0,r.jsx)(B.I.pre,{...a,...l.props,flagShowCodeHeader:f,children:t})}}return x||(0,w.Cp)(Error("Unexpected <pre> in markdown that did not contain <code> with single string child")),(0,r.jsx)("pre",{...a,children:n})},code(e){var t;let{node:n,...a}=e,l=u.Children.toArray(a.children)[0];return"string"==typeof l&&l===l.trim()&&V.yT.test(l)&&(null==(t=l.match(V.yT))?void 0:t[0])===l?(0,r.jsxs)(B.I.code,{...a,className:(0,N.A)(a.className,"inline-flex items-center h-5"),children:[(0,r.jsx)(V.qU,{color:l}),l]}):(0,r.jsx)(B.I.code,{...a})},a(e){let{node:t,...n}=e;l&&(l.current=!0);let a=e=>{k&&n.href&&k(e,n.href)};return h?(0,r.jsx)("a",{target:p,...n,onClick:a}):(0,r.jsx)(X,{linkTarget:p,...n,onLinkClick:a})},table(e){let{node:t,...n}=e;return(0,r.jsx)("pre",{className:"font-ui border-border-100/50 overflow-x-scroll w-full rounded border-[0.5px] shadow-[0_2px_12px_hsl(var(--always-black)/5%)]",children:(0,r.jsx)("table",{className:"bg-bg-100 min-w-full border-separate border-spacing-0 text-sm leading-[1.88888] whitespace-normal",...n})})},thead(e){let{node:t,...n}=e;return(0,r.jsx)("thead",{className:"border-b-border-100/50 border-b-[0.5px] text-left",...n})},tr(e){let{node:t,...n}=e;return(0,r.jsx)("tr",{className:"[tbody>&]:odd:bg-bg-500/10",...n})},td(e){let{node:t,children:n,...a}=e;return(0,r.jsx)("td",{className:"border-t-border-100/50 [&:not(:first-child)]:-x-[hsla(var(--border-100) / 0.5)] border-t-[0.5px] px-2 [&:not(:first-child)]:border-l-[0.5px]",...a,children:(0,V.wR)(n)})},th(e){let{node:t,children:n,...a}=e;return(0,r.jsx)("th",{className:"text-text-000 [&:not(:first-child)]:-x-[hsla(var(--border-100) / 0.5)] px-2 [&:not(:first-child)]:border-l-[0.5px]",...a,children:(0,V.wR)(n)})},hr:e=>{let{node:t,...n}=e;return(0,r.jsx)("hr",{className:"border-border-300 my-2",...n})},artifactComponent(e){let{node:t}=e;return(0,r.jsx)(M.d,{properties:t.properties,isStreaming:x,isLastMessage:v,onOpenArtifact:g})},...E?{[c.vc]:e=>{let{node:t,...n}=e;return(0,r.jsx)(H,{...n,isStreaming:x,citationUuids:t.properties.citationUuids,messageUuid:b})}}:null}),[E,h,s,f,l,p,x,v,g,b,k]),P=(0,u.useMemo)(()=>{let e=[A.A,d];return I&&e.push(o),O&&e.push(D),E&&(e.push(C.A),e.push(c.lZ)),e},[I,O,E,D]),F=(0,u.useMemo)(()=>{let e=[];return T&&e.push([T,{errorColor:"inherit"}]),e},[T]);return(0,r.jsx)("div",{ref:S,children:(0,r.jsx)($,{blockCitations:a,children:(0,r.jsx)(_.o,{className:(0,N.A)("grid-cols-1 grid gap-2.5 [&_>_*]:min-w-0",i),remarkPlugins:P,rehypePlugins:F,components:R,urlTransform:(e,t,n)=>{if("img"===n.tagName&&"src"===t)return e;if("a"!==n.tagName||"href"!==t)return;let a="computer://";return a&&e.startsWith(a),e},children:z})})})});G.displayName="StandardMarkDown";let Q=e=>{let{src:t,...n}=e,[a,l]=(0,u.useState)(!1);return t&&"string"==typeof t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>l(!0),className:"bg-bg-300 border-border-300 font-ui text-text-300 inline-block grid h-32 w-40 items-center justify-items-center rounded-xl border p-4",children:(0,r.jsx)(k.A,{defaultMessage:"Show Image",id:"eFsJ8k8yFm"})}),(0,r.jsx)(K.v,{isOpen:a,url:t,onClose:()=>l(!1),onConfirm:()=>{window.open(t,"_blank"),l(!1)}})]}):(0,r.jsx)("img",{...n,src:t})},X=e=>{let{linkTarget:t,href:n,className:a,onLinkClick:l,...s}=e,[i,o]=(0,u.useState)(!1);return n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{className:(0,N.A)("underline",a),onClick:e=>{l&&(l(e),e.defaultPrevented)||(e.preventDefault(),o(!0))},href:n,...s}),(0,r.jsx)(K.v,{isOpen:i,url:n,onClose:()=>o(!1),onConfirm:()=>{window.open(n,t),o(!1)}})]}):(0,r.jsx)("a",{...s})},ee=b.J.div(Z())},12655:(e,t,n)=>{n.d(t,{Y:()=>a});let a=e=>{if(e.input&&Object.keys(e.input).length>0)return e.input;if(e.partial_json){let t={};try{t=function(e){let t=function(e){let t=[],n=0;for(;n<e.length;){let a=e[n];if(/\s/.test(a)){n++;continue}if("{[]}:,".includes(a)){t.push(a),n++;continue}if('"'===a){let r=a;n++;let l=!1,s=!1;for(;n<e.length;){if(r+=a=e[n],'"'===a&&!l){s=!0;break}l="\\"===a&&!l,n++}if(!s){if(r.slice(-5).includes("\\"))for(r=r.slice(0,r.lastIndexOf("\\"));r.endsWith("\\");)r=r.slice(0,-1);r+='"'}t.push(r),n++;continue}if(/[-0-9]/.test(a)){let a="";for(;n<e.length&&/[-0-9.eE+]/.test(e[n]);)a+=e[n],n++;if(!a.match(/\d$/))for(;a.length>0&&!a[a.length-1].match(/\d/);)a=a.slice(0,-1);t.push(a);continue}if(/[tfn]/.test(a)){let r="",l=["true","false","null"],s=l.filter(e=>e.startsWith(a));if(1===s.length)n+=(r=s[0]).length;else for(;n<e.length&&/[a-z]/.test(e[n])&&(r+=e[n],n++,!l.includes(r)););l.includes(r)&&t.push(r);continue}n++}return t}(e),n=[];for(let e of t)"{"===e||"["===e?n.push("{"===e?"}":"]"):("}"===e||"]"===e)&&n.length>0&&n.pop();n.reverse(),","===t[t.length-1]&&t.pop();let a=t.concat(n).join("");if(""===a)return null;try{return JSON.parse(a)}catch(a){let e=Math.max(t.lastIndexOf(","),t.lastIndexOf("{"),t.lastIndexOf("["));if(-1!==e){let a=t.slice(0,e+1);return","===a[a.length-1]&&a.pop(),JSON.parse(a.concat(n).join(""))}throw Error("Invalid JSON")}}(e.partial_json)}catch(e){}return null!=t?t:{}}return{}}},37076:(e,t,n)=>{n.d(t,{I_:()=>g,aF:()=>h,s_:()=>f,vW:()=>m,yl:()=>x});var a=n(42977),r=n(54568),l=n(90510),s=n(78396),i=n(32987),o=n(25173),c=n(7620),d=n(41417);function u(){let e=(0,a._)(['\n  fixed\n  z-modal\n  inset-0\n  grid\n  items-center\n  justify-items-center\n  bg-black\n  bg-opacity-50\n  backdrop-brightness-75\n  overflow-y-auto\n  md:p-10\n  p-4\n  data-[state="open"]:animate-[fade_250ms_ease-in_forwards]\n  data-[state="closed"]:animate-[fade_125ms_ease-out_reverse_forwards]\n']);return u=function(){return e},e}function p(){let e=(0,a._)(['\n  flex\n  flex-col\n  focus:outline-none\n  relative\n  text-text-100\n  text-left\n  shadow-xl\n  border-0.5\n  border-border-300\n  rounded-2xl\n  md:p-6\n  p-4\n  align-middle\n  data-[state="open"]:animate-[zoom_250ms_ease-in_forwards]\n  data-[state="closed"]:animate-[zoom_125ms_ease-out_reverse_forwards]\n']);return p=function(){return e},e}function m(e){let{children:t,layout:n="right",className:a}=e;return(0,r.jsx)("div",{className:(0,i.A)("mt-4 flex flex-col gap-2","left"===n&&"sm:flex-row","center"===n&&"justify-center sm:flex-row","right"===n&&"sm:flex-row justify-end","between"===n&&"justify-between sm:flex-row",a),children:t})}function x(e){let{...t}=e;return(0,r.jsx)(d.$,{...t})}function f(e){let{onClose:t}=e;return(0,r.jsx)(d.$,{size:"icon_sm",variant:"ghost",className:"!text-text-500 hover:!text-text-400 -mx-2",onClick:()=>t(),children:(0,r.jsx)(s.X,{size:16})})}function h(e){return(0,r.jsx)(v,{...e})}function g(e){return(0,r.jsx)(v,{unstyled:!0,...e})}function v(e){let{title:t,subtitle:n,isOpen:a,className:l,children:s,onClose:d,icon:u,modalSize:p="md",backgroundColor:m,autoCloseOnFocusOut:x=!0,closeOnEscapeKeydown:h=!0,fullWidth:g=!0,fullHeight:v,hasCloseButton:j=!1,prependBeforeCloseButton:w,overlayChildren:N,overlayClassName:k,autoFocusOnOpen:_=!0,returnFocusOnClose:C=!0,unstyled:A=!1}=e,[M,S]=(0,c.useState)(!1),E=(0,c.useRef)(null),I=(0,c.useRef)(null);(0,c.useEffect)(()=>{S(!0)},[]),(0,c.useEffect)(()=>{a&&C&&(E.current=document.activeElement)},[a,C]),(0,c.useEffect)(()=>{if(!a&&C&&E.current){let e=E.current,t=null!==e.getAttribute("data-radix-dropdown-menu-trigger")||null!==e.closest("[data-radix-dropdown-menu-trigger]"),n=document.contains(e)&&null!==e.offsetParent&&"hidden"!==getComputedStyle(e).visibility,a=setTimeout(()=>{if(!t&&n){var e;null==(e=E.current)||e.focus()}E.current=null},50);return()=>clearTimeout(a)}},[a,C]);let O=e=>{x||e.preventDefault()},T=e=>{e.stopPropagation(),h||e.preventDefault()},[D,U]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{if(a)U(!0);else{let e=window.setTimeout(()=>{U(!1)},125);return setTimeout(()=>{document.body.style.pointerEvents="auto"},300),()=>{window.clearTimeout(e)}}},[a]),M)?(0,r.jsx)(o.bL,{open:a,onOpenChange:e=>{e||d()},children:D&&(0,r.jsx)(o.ZL,{forceMount:!0,children:(0,r.jsxs)(b,{forceMount:!0,className:k,children:[A?(0,r.jsx)(o.UC,{forceMount:!0,ref:I,onOpenAutoFocus:e=>{_||e.preventDefault()},onInteractOutside:O,onEscapeKeyDown:T,className:l,children:s}):(0,r.jsx)(y,{forceMount:!0,ref:I,onOpenAutoFocus:e=>{_||e.preventDefault()},onInteractOutside:O,onEscapeKeyDown:T,className:(0,i.A)("min-w-0",l,g&&"w-full",v&&"h-full","sm"===p&&"max-w-sm","md"===p&&"max-w-md","lg"===p&&"max-w-lg","2lg"===p&&"max-w-xl","xl"===p&&"max-w-3xl","2xl"===p&&"max-w-5xl","3xl"===p&&"max-w-6xl",null!=m?m:"bg-bg-100"),children:(0,r.jsxs)("div",{className:(0,i.A)("min-h-full",!!(t||w||j||n)&&"flex flex-col",v&&"w-full h-full"),children:[!!(t||w||j)&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:(0,i.A)("flex items-center gap-4",t?"justify-between":"justify-end"),children:[t&&(0,r.jsxs)(o.hE,{className:"font-xl-bold text-text-100 flex w-full min-w-0 items-center leading-6 break-words",children:[u&&(0,r.jsx)("span",{className:"mr-2",children:u}),(0,r.jsx)("span",{className:"[overflow-wrap:anywhere]",children:t})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[w,j&&(0,r.jsx)(f,{onClose:d})]})]})}),n&&(0,r.jsx)("p",{className:"text-text-300 mb-2 text-sm",children:n}),s]})}),N]})})}):null}let b=(0,l.J)(o.hJ)(u()),y=(0,l.J)(o.UC)(p())},37711:(e,t,n)=>{n.d(t,{A:()=>s,N:()=>l});var a=n(54568),r=n(32987);let l=e=>{let{children:t,colorOverrides:n,className:l,...s}=e;return(0,a.jsx)("span",{...s,className:(0,r.A)("text-center text-always-white/0 bg-gradient-to-r bg-[length:400%_100%] from-30% via-always-white/70 to-80% bg-clip-text bg-no-repeat animate-[shimmertext_2.25s_infinite]",n||"bg-text-400 from-text-400 to-text-400",l),children:t})},s=e=>{let{children:t,colorOverrides:n,className:l,...s}=e;return(0,a.jsx)("span",{...s,className:(0,r.A)("font-medium text-center text-always-white/0 bg-gradient-to-r bg-[length:400%_100%] from-30% via-always-white/70 to-80% bg-clip-text bg-no-repeat animate-[shimmertext_2.25s_infinite]",n||"bg-text-300 from-text-300 to-text-300",l),children:t})}},50787:(e,t,n)=>{n.d(t,{fz:()=>u,qU:()=>i,wR:()=>d,yT:()=>s});var a=n(54568),r=n(7620),l=n(56340);let s=/(#[0-9a-fA-F]{6})\b/,i=e=>{let{color:t}=e;return(0,a.jsx)("span",{className:"inline-block w-3 h-3 border-[0.5px] border-border-200 rounded flex-shrink-0 shadow-sm mr-1 align-middle",style:{backgroundColor:t}})},o=(e,t,n)=>e.split(s).map((e,l)=>l%2==1?t?((e,t)=>(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(i,{color:e}),e]},t))(e,l):n(e,l):e),c=(e,t)=>(0,a.jsxs)(l.I.code,{className:"inline-flex items-center h-5",children:[(0,a.jsx)(i,{color:e}),e]},t),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.Children.map(e,e=>"string"==typeof e?o(e,t,c):e)},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"!=typeof e?e:o(e,t,c)}},54890:(e,t,n)=>{n.d(t,{IO:()=>g,K1:()=>_,K5:()=>d,Tm:()=>M,Uv:()=>x,Xz:()=>E,_o:()=>m,eg:()=>p,it:()=>A,oE:()=>c,oj:()=>k,qK:()=>i,vU:()=>s,zI:()=>S});var a=n(75006),r=n(53248),l=n(12655),s=function(e){return e.Text="text/plain",e.Markdown="text/markdown",e.Html="text/html",e.Code="application/vnd.ant.code",e.Svg="image/svg+xml",e.Mermaid="application/vnd.ant.mermaid",e.React="application/vnd.ant.react",e}({}),i=function(e){return e.Pdf="application/pdf",e.Excel="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",e.ExcelLegacy="application/vnd.ms-excel",e.Word="application/vnd.openxmlformats-officedocument.wordprocessingml.document",e.WordLegacy="application/msword",e.PowerPoint="application/vnd.openxmlformats-officedocument.presentationml.presentation",e.PowerPointLegacy="application/vnd.ms-powerpoint",e.Csv="text/csv",e.Tsv="text/tab-separated-values",e}({});let o=a.z.string().nullish().transform(e=>null!=e?e:void 0),c=a.z.object({version_uuid:o,command:a.z.enum(["create","update","rewrite"]).optional().catch(void 0),id:o,title:o,type:a.z.nativeEnum(s).optional().catch(void 0),language:o,content:o,old_str:o,new_str:o,source:a.z.enum(["s"]).optional().catch(void 0),md_citations:a.z.unknown()}),d={"text/plain":{syntaxName:"plaintext",extension:()=>"txt"},"text/markdown":{syntaxName:"markdown",extension:()=>"md"},"text/html":{syntaxName:"html",extension:()=>"html"},"image/svg+xml":{syntaxName:"svg",extension:()=>"svg"},"application/vnd.ant.code":{syntaxName:"plaintext",extension:e=>{switch(null==e?void 0:e.language){case"python":return"py";case"javascript":return"js";case"typescript":return"ts";case"java":return"java";case"csharp":return"cs";case"go":return"go";case"rust":return"rs";case"ruby":return"rb";case"php":return"php";case"swift":return"swift";case"kotlin":return"kt";case"dart":return"dart";case"scala":return"scala";case"perl":return"pl";case"elixir":return"ex";case"haskell":return"hs";case"clojure":return"clj";case"r":return"r";case"groovy":return"groovy";case"bash":return"sh";case"css":return"css";case"scss":return"scss";case"less":return"less";case"sql":return"sql";case"graphql":return"graphql";case"json":return"json";case"html":return"html";default:return"txt"}}},"application/vnd.ant.mermaid":{syntaxName:"mermaid",extension:()=>"mermaid"},"application/vnd.ant.react":{syntaxName:"tsx",extension:()=>"tsx"}},u={"application/pdf":{syntaxName:"pdf",extension:()=>"pdf"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{syntaxName:"xlsx",extension:()=>"xlsx"},"application/vnd.ms-excel":{syntaxName:"xls",extension:()=>"xls"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{syntaxName:"docx",extension:()=>"docx"},"application/msword":{syntaxName:"doc",extension:()=>"doc"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{syntaxName:"pptx",extension:()=>"pptx"},"application/vnd.ms-powerpoint":{syntaxName:"ppt",extension:()=>"ppt"},"text/csv":{syntaxName:"csv",extension:()=>"csv"},"text/tab-separated-values":{syntaxName:"tsv",extension:()=>"tsv"}},p=e=>{let t=d[e.type];return"application/vnd.ant.code"!==e.type?t.extension():t.extension(e)},m=["png","jpg","jpeg","gif","bmp","webp"],x=["python","javascript","typescript","java","csharp","go","rust","ruby","php","swift","kotlin","dart","scala","perl","elixir","haskell","clojure","r","groovy","bash","css","scss","less","sql","graphql","json","html","plaintext"],f=["toml","yaml","yml","jsx","log","xml","ini","properties","rst","adoc","asciidoc","jsonl","rss","atom","tex","bib","cls","sty","dtx","ins"],h=["dockerfile","docker-compose","containerfile","makefile","rakefile","jenkinsfile","vagrantfile","gemfile","pipfile","go.mod","go.sum","yarn.lock"];function g(e){var t,n;let a=(null==(t=e.split(".").pop())?void 0:t.toLowerCase())||"",r=(null==(n=e.split("/").pop())?void 0:n.toLowerCase())||"";for(let[e,t]of Object.entries(d))if("application/vnd.ant.code"!==e&&t.extension()===a)return!0;for(let e of Object.values(u))if(e.extension()===a)return!0;if(m.includes(a))return!0;let l=d["application/vnd.ant.code"].extension;for(let e of x)if(l({language:e})===a)return!0;return!!(f.includes(a)||h.includes(r)||h.some(e=>r.startsWith("".concat(e,"."))))}let v="antArtifact",b="<".concat(v,"(?:\\s+([^>]*)>|(?!>)\\S*)"),y="</".concat(v,">"),j=RegExp("".concat(b,"([\\s\\S]*?)(?:").concat(y,"|$)"),"g"),w=RegExp("<(?:a(?:n(?:t(?:A(?:r(?:t(?:i(?:f(?:a(?:c(?:t)?)?)?)?)?)?)?)?)?)?)?$","gm"),N=RegExp("".concat(b,"[\\s\\S]*?(?:").concat(y,"|$)"),"g"),k="ANTARTIFACTLINK";function _(e){var t;let n=e.match(/identifier="([^"]*)"/),a=n?n[1]:"",r=e.match(/type="([^"]*)"/),l=r?(t=r[1],Object.values(s).includes(t)?t:"text/plain"):"text/plain",i=e.match(/title="([^"]*)"/),o=i?i[1]:"Untitled artifact",c=e.match(/language="([^"]*)"/),d=c?c[1]:void 0,u=e.match(/isClosed="(true|false)"/);return{id:a,type:l,title:o,language:d,isClosed:u?"true"===u[1]:void 0}}function C(e){return e.replace(w,"")}function A(e){return U(C(e)).replace(j,(e,t,n)=>{if(!t||"string"!=typeof t)return"";{let{type:e,language:a}=_(t);return"text/markdown"!==e&&"string"==typeof n?"```".concat(a||d[e].syntaxName,"\n").concat(n.trimStart(),"\n```"):"\n".concat(n)}})}function M(e){return C(U(e).replace(N,(e,t)=>{let n=e.endsWith(y);return"<".concat(k," ").concat(t," isClosed=“").concat(n,"” />")}))}let S=(e,t)=>"create"===e.command||"rewrite"===e.command?e.content:"update"===e.command?void 0===t?e.new_str:t.includes(e.old_str)?t.replace(e.old_str,e.new_str):t.replace(e.old_str.trim(),e.new_str):null!=t?t:"";function E(e){var t;let n=(0,r.C)(e).matchAll(j),a=[];for(let t of n){let[n,r,l]=t,s=n.endsWith(y);if(!r||!l)continue;let{id:i,type:o,title:c,language:d}=_(r),u={command:"create",message:e.uuid||"",created_at:e.created_at,content:l.trimStart(),isClosed:s};a.push({id:i,currentVersion:u,type:o,title:c,language:d})}return null==(t=e.content)||t.map((t,n,r)=>{if("tool_use"===t.type&&"artifacts"===t.name&&t.input){let s,i=(0,l.Y)(t),o=n===r.length-1,{version_uuid:d,command:u,id:p,type:m="text/plain",title:x="",language:f,content:h="",old_str:g="",new_str:v="",md_citations:b,source:y}=c.parse(i),j=(null==b?void 0:b.length)?h:h.trimStart();"create"===u||"rewrite"===u?s={uuid:d,command:u,citations:b,content:j,message:e.uuid||"",created_at:e.created_at,isClosed:!o,source:y}:"update"===u&&""!==h?s={uuid:d,command:"rewrite",message:e.uuid||"",created_at:e.created_at,isClosed:!o,content:h}:"update"===u&&(s={uuid:d,command:"update",message:e.uuid||"",created_at:e.created_at,isClosed:!o,old_str:g,new_str:v}),void 0!==p&&void 0!==s&&a.push({id:p,currentVersion:s,type:m,title:x,language:f})}}),a}let I="antThinking",O="<".concat(I,">"),T=RegExp("".concat(O,"[\\s\\S]*?(?:</").concat(I,">|$)"),"g"),D=RegExp("<(?:a(?:n(?:t(?:T(?:h(?:i(?:n(?:k(?:i(?:n(?:g)?)?)?)?)?)?)?)?)?)?)?$","gm");function U(e){let t=e.replace(D,"");return t.replace(T,"")}},56340:(e,t,n)=>{n.d(t,{G:()=>j,I:()=>k});var a=n(54568),r=n(74610),l=n(89697),s=n(46127),i=n(41417),o=n(12072),c=n(9786),d=n(27062),u=n(32987),p=n(36611),m=n(7620),x=n(46760),f=n(62971),h=n(45510),g=n(92479),v=n(12882),b=n(75006);let y=(0,m.memo)(e=>{let{node:t,stylesheet:n,useInlineStyles:a,index:r}=e;return(0,h.Ay)({node:t,stylesheet:n,useInlineStyles:a,key:r})},(e,t)=>(0,p.bD)(e.node,t.node)&&(0,p.bD)(e.stylesheet,t.stylesheet));y.displayName="Row";let j=e=>{let{rows:t,stylesheet:n,useInlineStyles:r}=e;return t.map((e,t)=>(0,a.jsx)(y,{index:t,node:e,stylesheet:n,useInlineStyles:r},t))},w=[],N=b.z.array(b.z.string()),k={h1:e=>(0,a.jsx)("h1",{className:"mt-2 mb-2 font-bold",...e}),p:e=>(0,a.jsx)("p",{className:"whitespace-pre-wrap break-words",...e}),li:e=>(0,a.jsx)("li",{className:"whitespace-normal break-words",...e}),ul:e=>(0,a.jsx)("ul",{className:"[&:not(:last-child)_ul]:pb-1 [&:not(:last-child)_ol]:pb-1 list-disc space-y-1.5 pl-7",...e}),ol:e=>(0,a.jsx)("ol",{className:"[&:not(:last-child)_ul]:pb-1 [&:not(:last-child)_ol]:pb-1 list-decimal space-y-1.5 pl-7",...e}),blockQuote:e=>(0,a.jsx)("blockquote",{className:"border-l-2 border-border-100 pl-2",...e}),pre:e=>{var t;let{className:n,children:u,flagShowCodeHeader:p=!0}=e;(0,v.A)("string"==typeof u,"CodeBlock children must be a string");let h=/language-(\w+)/.exec(n||""),b=(null==h||null==(t=h[1])?void 0:t.toLowerCase())||"",y=u.trimEnd();y=(0,r.xE)(y);let{didCopy:k,copyToClipboard:_}=(0,c.C)(),{codeStyle:C}=(0,l.V)(),A=(0,x.A)(),M=(0,d.T9)("claude_code_spotlight_code_viewed_signal","languages",w,N),[,S]=(0,s.Vc)("claude-code-view-timestamp",null);return(0,m.useEffect)(()=>{b&&M.includes(b)&&S(Date.now())},[]),(0,a.jsxs)("div",{className:"relative group/copy bg-bg-000/50 border-0.5 border-border-400 rounded-lg",children:[!0===p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"sticky opacity-0 group-hover/copy:opacity-100 top-2 py-2 h-12 w-0 float-right",children:(0,a.jsx)("div",{className:"absolute right-0 h-8 px-2 items-center inline-flex",children:(0,a.jsx)(o.Tooltip,{side:"bottom",disableHoverableContent:!0,delayDuration:0,tooltipContent:(0,a.jsx)(f.A,{defaultMessage:"Copy",id:"4l6vz1/eZ5"}),children:(0,a.jsx)(i.$,{"aria-label":A.formatMessage({defaultMessage:"Copy to clipboard",id:"aCdAsIsVv0"}),variant:"ghost",size:"icon_sm",className:"backdrop-blur-md",onClick:()=>{_(y)},children:(0,a.jsx)(c.u,{didCopy:k})})})})}),h&&(0,a.jsx)("div",{className:"text-text-500 font-small p-3.5 pb-0",children:h[1]})]}):null,(0,a.jsx)("div",{children:(0,a.jsx)(g.A,{className:"code-block__code !my-0 !rounded-lg !text-sm !leading-relaxed",language:h?h[1]:"",style:C,renderer:j,wrapLongLines:!h,children:y})})]})},code:e=>{let{className:t,children:n}=e;return(null==t?void 0:t.includes("math"))?(0,a.jsx)("span",{className:t,children:n}):(0,a.jsx)("code",{className:(0,u.A)("bg-text-200/5 border border-0.5 border-border-300 text-danger-000 whitespace-pre-wrap rounded-[0.4rem] px-1 py-px text-[0.9rem]",t),children:n})}}},66849:(e,t,n)=>{n.d(t,{w:()=>s});var a=n(54890),r=n(7620),l=n(46760);function s(){let e=(0,l.A)();return(0,r.useMemo)(()=>({[a.vU.Text]:e.formatMessage({defaultMessage:"Text",id:"aA8bDwsPeJ"}),[a.vU.Markdown]:e.formatMessage({defaultMessage:"Document",id:"wmirkPk7bp"}),[a.vU.Html]:e.formatMessage({defaultMessage:"Interactive artifact",id:"zfnwA1wU0m"}),[a.vU.Svg]:e.formatMessage({defaultMessage:"Image",id:"+0zv6gS/c6"}),[a.vU.Code]:e.formatMessage({defaultMessage:"Code",id:"h2vipunVVd"}),[a.vU.Mermaid]:e.formatMessage({defaultMessage:"Diagram",id:"PBUs06BBR7"}),[a.vU.React]:e.formatMessage({defaultMessage:"Interactive artifact",id:"zfnwA1wU0m"})}),[e])}},74610:(e,t,n)=>{n.d(t,{vc:()=>o,lZ:()=>m,k0:()=>u,xE:()=>p});var a=n(42977),r=n(17873),l=n(44180),s=n(75006);function i(){let e=(0,a._)([":","[]{.*?}"],[":","\\[\\]{.*?}"]);return i=function(){return e},e}let o="antCitation",c=RegExp(String.raw(i(),o),"g"),d=s.z.object({citations:s.z.string()}),u=(e,t)=>{let n=t;for(let t of(e=>{let t={};return e.forEach(e=>{let n=e.end_index;t[n]||(t[n]=[]),t[n].push(e)}),Object.values(t).sort((e,t)=>t[0].end_index-e[0].end_index)})(e)){let e=t[0].end_index;if(e>n.length)continue;let a=[...n].slice(0,e).join(""),r=[...n].slice(e).join(""),l=function(e){return e.length?function(e){let{tagName:t,inlineContent:n,attributes:a}=e,r=a?"{"+Object.entries(a).map(e=>{let[t,n]=e;return"".concat(t,'="').concat(n,'"')}).join(" ")+"}":"";return":".concat(t,"[").concat(n,"]").concat(r)}({tagName:o,inlineContent:"",attributes:{citations:e.map(e=>e.uuid).join(",")}}):""}(t),s="";a.endsWith("```")?s="\n":a&&!a.match(/\s$/)&&(s=" "),n=a+s+l+r}return n},p=e=>e.replace(c,""),m=function(e,t){let n=n=>{(0,r.YR)(n,void 0,n=>{if(("textDirective"===n.type||"leafDirective"===n.type||"containerDirective"===n.type)&&n.name===e){let r=t(n.attributes);if(n.data={hName:e,hProperties:r},"containerDirective"===n.type&&n.children){let e=[...n.children];for(;e.length;){let t=e.shift();if(t){var a;t.data={...t.data,hProperties:{...(null==(a=t.data)?void 0:a.hProperties)||null,...r}},"children"in t&&e.push(...t.children)}}}}else"textDirective"!==n.type||n.name===e||n.attributes&&0!==Object.keys(n.attributes).length||Object.assign(n,{type:"text",value:":"+n.name})})};return()=>n}(o,e=>{try{return{citationUuids:d.parse(e).citations.split(",")}}catch(e){return(0,l.Cp)(e),{citationUuids:[]}}})},89697:(e,t,n)=>{n.d(t,{V:()=>s});var a=n(74027),r=n(91667),l=n(21137);let s=()=>{let{resolvedMode:e}=(0,a.D)(),t="dark"===e?r.A:l.A;return{codeStyle:{...t,'pre[class*="language-"]':{...t['pre[class*="language-"]'],background:"transparent",fontFamily:"var(--font-mono)"},'code[class*="language-"]':{...t['code[class*="language-"]'],background:"transparent",fontFamily:"var(--font-mono)"}}}}},90909:(e,t,n)=>{n.d(t,{d:()=>f});var a=n(54568),r=n(46127),l=n(66849),s=n(37711),i=n(54890),o=n(29292),c=n(79813),d=n(19921),u=n(32987),p=n(7620),m=n(46760),x=n(62971);function f(e){var t;let{properties:n,isStreaming:o,isEdit:c,isNotLastEdit:d,onOpenArtifact:f,preview:g,icon:v,isExpanded:b,actions:y}=e,[j,w]=(0,p.useState)(!!(e.displayType||n.type));(0,p.useEffect)(()=>{(e.displayType||n.type)&&w(!0)},[n.type,e.displayType]);let N=(0,m.A)(),k=(0,l.w)(),_=null!=(t=e.displayType)?t:n.type?k[n.type]:null,C=e.versionNum&&e.versionCount&&e.versionNum>1&&e.versionCount>1,A=n.title&&n.id&&!o?"generated":c&&o?"editing":n.title&&n.id?"partial":"generating",[,M]=(0,r.Vc)("claude-code-view-timestamp",null);(0,p.useEffect)(()=>{n.type===i.vU.Code&&M(Date.now())},[]);let S=(0,a.jsx)(h,{layoutVariant:y?"alternate":"default",hasOffset:j,properties:n,icon:v,preview:g});return(0,a.jsx)("button",{className:(0,u.A)("flex text-left font-ui rounded-xl mb-1 -mx-0.5 overflow-hidden border transition duration-300 w-full hover:bg-bg-000/50",d&&c&&"opacity-0 pointer-events-none transition-none",b?"border-accent-secondary-200 duration-500":"border-border-300 hover:border-border-200"),onClick:()=>{f&&n.id&&f(n.id)},"aria-label":N.formatMessage({defaultMessage:"Preview contents",id:"hmKJSoIQ4a"}),children:(0,a.jsxs)("div",{className:"artifact-block-cell group/artifact-block flex flex-1 align-start justify-between w-full pl-0.5 py-0.5",children:[(0,a.jsxs)("div",{className:"flex flex-1 px-4",children:[y?S:null,(0,a.jsxs)("div",{className:"flex flex-col gap-1 py-4",children:[(0,a.jsx)("div",{className:(0,u.A)("leading-tight text-sm","generating"===A?"text-text-500":null),children:"generated"===A?(0,a.jsx)(a.Fragment,{children:n.title}):"editing"===A?(0,a.jsx)(x.A,{defaultMessage:"Making edits...",id:"0HUNCOubmp"}):"partial"===A?(0,a.jsx)(a.Fragment,{children:n.title}):(0,a.jsx)(s.N,{children:(0,a.jsx)(x.A,{defaultMessage:"Drafting artifact...",id:"8NQAeTqGOl"})})}),(0,a.jsxs)("div",{className:(0,u.A)("text-sm","generating"===A?"text-text-500":"text-text-300",_?"opacity-100":"opacity-0","transition-opacity duration-200"),children:[_,_&&C?(0,a.jsx)(a.Fragment,{children:" ∙ "}):null,C?(0,a.jsx)(x.A,{defaultMessage:"Version {versionNum}",id:"iMMX+ZCJ/I",values:{versionNum:e.versionNum}}):null,"\xa0"]})]})]}),y||S]})})}function h(e){let{hasOffset:t,properties:n,icon:r,preview:l,layoutVariant:s}=e,p=n.type===i.vU.Markdown||n.type===i.vU.Text,m=p||n.type===i.vU.Code;return(0,a.jsx)("div",{className:"flex items-end w-[5rem] relative mr-4",children:(0,a.jsx)("div",{className:(0,u.A)("absolute inset-0 flex flex-1 overflow-hidden","rounded-t-lg border-0.5 border-border-200 select-none","scale-[1] group-hover/artifact-block:scale-[1.035]","alternate"===s?"-rotate-[0.1rad] group-hover/artifact-block:-rotate-[0.065rad]":"rotate-[0.1rad] group-hover/artifact-block:rotate-[0.065rad]","duration-300 ease-out group-hover/artifact-block:duration-400 group-hover/artifact-block:ease-[cubic-bezier(0,0.9,0.5,1.35)]","transition-transform backface-hidden will-change-transform",t?"translate-y-[19%]":"translate-y-[120%]",n.type===i.vU.Code?"bg-always-black text-always-white":p?"bg-bg-000 text-text-500":"bg-gradient-to-b from-bg-000 to-bg-000/0",m?"whitespace-pre-wrap text-[0.35rem] leading-none p-2 font-mono":"pt-1 items-center justify-center h-full"),children:r||(m?l:n.type===i.vU.Svg?(0,a.jsx)(o.x,{size:32,weight:"light"}):n.type===i.vU.React||n.type===i.vU.Html?(0,a.jsx)(c.s,{size:32,weight:"light"}):n.type===i.vU.Code?(0,a.jsx)(d.C,{size:32,weight:"light"}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"36",height:"36",children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M2 8a5 5 0 0 0 4-2 5 5 0 0 0 4 2 5 5 0 0 0 4-2 5 5 0 0 0 4 2 5 5 0 0 0 4-2M2 18a5 5 0 0 0 4-2 5 5 0 0 0 4 2 5 5 0 0 0 4-2 5 5 0 0 0 4 2 5 5 0 0 0 4-2"})}))})})}},92007:(e,t,n)=>{n.d(t,{n:()=>a,p:()=>r});let a=()=>!0;function r(e,t){return e.map(e=>null==t?void 0:t.find(t=>t.uuid===e)).filter(e=>!!e&&"metadata"in e)}},94649:(e,t,n)=>{n.d(t,{v:()=>o});var a=n(54568),r=n(41417),l=n(37076),s=n(46760),i=n(62971);let o=e=>{let{isOpen:t=!1,url:n,onClose:o,onConfirm:c}=e,d=(0,s.A)();return(0,a.jsxs)(l.aF,{title:d.formatMessage({defaultMessage:"Open external link",id:"cSp9Qor4f4"}),isOpen:t,onClose:o,children:[(0,a.jsxs)("p",{className:"break-words flex flex-col gap-1 pt-3",children:[(0,a.jsx)(i.A,{defaultMessage:"You’re leaving Claude to visit an external link:",id:"lOsEqiSVhm"}),(0,a.jsx)("pre",{className:"font-mono text-wrap text-sm p-2 my-2 rounded border border-border-400 bg-bg-000",children:n})]}),(0,a.jsxs)(l.vW,{children:[(0,a.jsx)(r.$,{variant:"secondary",onClick:o,children:(0,a.jsx)(i.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,a.jsx)(r.$,{onClick:c,children:(0,a.jsx)(i.A,{defaultMessage:"Open link",id:"YtFTtANjPw"})})]})]})}}}]);